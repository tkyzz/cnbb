function getseljob(a,b){var c="",d=0;return $('[name="jobcheck"]').each(function(a){"sc"==b?"checked"==$('[name="jobcheck"]').eq(a).attr("checked")&&(d++,c+=$('[name="jobcheck"]').eq(a).attr("data-id")+","):"td"==b&&"checked"==$('[name="jobcheck"]').eq(a).attr("checked")&&(d++,c+=$('[name="jobcheck"]').eq(a).attr("data-postid")+",")}),$(a).attr("data-id",c),d}$(".js_deliver_show").click(function(){var a=$(this).attr("data-id"),b=$(this).attr("data-orgid"),c=$("#is_resume").val(),d=$(this).attr("data-area"),e=$(this).attr("data-worktype"),f=$(this).attr("data-worktime"),g=$(this).attr("data-sedate");return $(".js_setime_zone").show(),$(".js_area").text(d),$(".js_worktype").text(e),$(".js_worktime").text(f),$(".js_deliver_check").attr("data-id",a),$(".js_deliver_check").attr("data-orgid",b),0==$(this).attr("data-sdate")?$(".js_setime_zone").hide():$(".js_setime").text(g),0==c?($(".noResumePopup").show(),!1):($("#choosePopup").show(),void 0)}),$(".js_deliver_check").click(function(){$("#choosePopup").hide(),$("#surePopup").show()}),$(".js_fav_deliver").click(function(){var a=$(".js_deliver_check").attr("data-orgid"),b=$(".js_deliver_check").attr("data-id"),c=$('[name="choose"]:checked').val(),d=$('[name="choose"]:checked').attr("data-baseid"),e=$('[name="choose"]:checked').attr("data-id");1==e?$.post("/ajax/deliver",{resume_id:c,post_id:b},function(b){1==b.status?(window.location.href="/post/"+a+"/deliver.html",layer.msg(b.msg,{icon:1})):(layer.msg(b.msg,{icon:5}),$("#choosePopup").hide(),$("#noProfilePopup").hide(),$("#surePopup").hide())},"json"):($(".js_wsjl_tc").attr("href","/resume/detail/"+d+".html"),$("#choosePopup").hide(),$("#noProfilePopup").show())}),$(".js_deliver").click(function(){$.post("/ajax/deliver",{resume_id:resume_id,post_id:post_id},function(a){1==a.status?layer.msg(a.msg,{icon:1}):layer.msg(a.msg,{icon:5})},"json")}),$("body").delegate(".js_qxsc","click",function(){var a=$(this).attr("data-id");return 0==a.length?!1:($.post("/ajax/fav",{post_id:a,type:"delete"},function(b){1==b.status?($(".js_qxsc[data-id="+a+"]").text("已取消"),$(".js_qxsc[data-id="+a+"]").addClass("js_cxsc"),$(".js_qxsc[data-id="+a+"]").removeClass("js_qxsc"),setTimeout(function(){$(".js_cxsc[data-id="+a+"]").text("重新收藏")},1e3)):layer.msg("取消收藏失败,请重试！",{icon:5})},"json"),void 0)}),$("body").delegate(".js_cxsc","click",function(){var a=$(this).attr("data-id");return 0==a.length?!1:($.post("/ajax/fav",{post_id:a,type:"post"},function(b){1==b.status?($(".js_cxsc[data-id="+a+"]").text("已收藏"),$(".js_cxsc[data-id="+a+"]").addClass("js_qxsc"),$(".js_cxsc[data-id="+a+"]").removeClass("js_cxsc"),setTimeout(function(){$(".js_qxsc[data-id="+a+"]").text("取消收藏")},1e3)):layer.msg("重新收藏失败,请重试！",{icon:5})},"json"),void 0)}),$(".js_del_resume_show").click(function(){var a=$(this).attr("data-name"),b=$(this).attr("data-id"),c="是否确定删除名称为<span>"+a+"</span>的简历";$(".warn-info").html(c),$(".js_del_resume").attr("data-id",b),$(".warn-layer").show()}),$(".js_del_resume").click(function(){var a=$(".js_del_resume").attr("data-id");return 0==a.length?(layer.msg("未知错误",{icon:5}),!1):($.post("/ajax/createUpdateResume",{id:a,type:"del"},function(a){1==a.status?(a.info.result,$(".js_del_resume").val("删除成功"),window.location.reload()):layer.msg(a.msg,{icon:5})},"json"),void 0)}),$(".sub_new_resume").click(function(){var a=$("#new_resume_name").val(),b=$('input[name="open"]:checked').attr("data-id");return 0==a.length?(layer.msg("请输入简历名称",{icon:5}),!1):0==b.length?(layer.msg("请设置简历的公开程度",{icon:5}),!1):($(".sub_new_resume").attr("disabled","disabled"),$.post("/ajax/createUpdateResume",{name:a,open_level:b,type:"create"},function(a){if(1==a.status){$(".sub_new_resume").val("创建成功");var b=a.info.result;window.location.href="/resume/detail/"+b+".html"}else $(".sub_new_resume").removeAttr("disabled"),layer.msg(a.msg,{icon:5})},"json"),void 0)}),$(".ws_resume_tip").click(function(){layer.msg("请先完善此简历的个人信息",{icon:5})}),$(".js_set_default").click(function(){var a=$(this).val();$.post("/ajax/setDefault",{id:a},function(a){1==a.status?(layer.msg(a.msg,{icon:1}),window.location.href=window.location.href):layer.msg(a.msg,{icon:5})},"json")}),$(".js_close_intention_tip").click(function(){$("#intention_tip").hide(),$.get("/ajax/setclose",{name:"intention_tip"},function(){},"json")}),$(".js_pl_op").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$('[name="jobcheck"]').removeAttr("checked"),$(this).find("label").removeClass("active")):($('[name="jobcheck"]').attr("checked","true"),$(this).addClass("active"),$(this).find("label").addClass("active"))}),$(".js_pl_deliver").click(function(){var a=getseljob(".js_qdtd","td");0!=a&&($("#js_deliver_tip").show(),$(".js_qdtd").attr("data-op","td"))}),$(".js_pl_del").click(function(){var a=getseljob(".js_qddel","sc");0!=a&&$("#js_del_tip").show()}),$(".js_qddel").click(function(){id=$(this).attr("data-id"),id.length>0?($("#js_del_tip").hide(),$.post("/ajax/msgcenterop",{id:id,op:"sc"},function(a){1==a.status?(layer.msg(a.msg,{icon:1}),window.location.href="/messages.html"):layer.msg(a.msg,{icon:5})},"json").error(function(){layer.msg("抱歉，系统出错，请待会再试~",{icon:5})})):layer.msg("操作错误",{icon:5})}),$(".js_qdtd").click(function(){var a=$(this).attr("data-id"),b=$('[name="default_id"]').val(),c=$(this).attr("data-op");if(a.length>0&&b>0){if(layer.msg("请稍候……",{icon:6}),"singletd"==c)$.post("/ajax/deliver",{resume_id:b,post_id:a},function(a){1==a.status?(layer.msg(a.msg,{icon:1}),window.location.href="/messages.html"):layer.msg(a.msg,{icon:5})},"json").error(function(){layer.msg("抱歉，系统出错，请待会再试~",{icon:5})});else{if("td"!=c)return;$.post("/ajax/msgcenterop",{resume_id:b,post_ids:a,op:"td"},function(a){1==a.status?(window.location.reload(),layer.msg(a.msg,{icon:1}),window.location.href="/messages.html"):layer.msg(a.msg,{icon:5})},"json").error(function(){layer.msg("抱歉，系统出错，请待会再试~",{icon:5})})}$("#js_deliver_tip").hide()}else layer.msg("操作错误",{icon:5})}),$(".js_singletd").click(function(){var a=$(this).attr("data-id");$(".js_qdtd").attr("data-id",a),$(".js_qdtd").attr("data-op","singletd"),$("#js_deliver_tip").show()}),$(".js_singledel").click(function(){var a=$(this).attr("data-id");$(".js_qddel").attr("data-id",a),$("#js_del_tip").show()});